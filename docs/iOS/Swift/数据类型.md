# æ•°æ®ç±»å‹

## String

### åˆå§‹åŒ–

```swift
///å­—é¢é‡
var emptyStr = ""
///åˆå§‹åŒ–å™¨
var anotherEmptyStr = String()

///æ˜¯å¦ä¸ºç©ºä¸²
if emptyStr.isEmpty {
}
```

### å†…å­˜å­˜å‚¨

```swift
//å˜é‡å†…å­˜åœ°å€ï¼ŒæŸ¥çœ‹å†…å­˜åœ°å€å­˜çš„å†…å®¹
//å°å­—ç¬¦ä¸²
var empty = "asd"
print(empty)//å¯¹äºå°å­—ç¬¦ä¸²ï¼Œä¼˜å…ˆç›´æ¥å­˜åœ¨å†…å­˜åœ°å€é‡Œé¢ã€‚é’ˆå¯¹è‹±æ–‡æ€»å…±èƒ½å­˜Fï¼ˆ15ï¼‰ä¸ªå­—ç¬¦ä¸²

//å¤§å­—ç¬¦ä¸²
//åŸç”Ÿå­—ç¬¦ä¸²  åœ°å€ä¿¡æ¯+åç§»é‡=å­—ç¬¦ä¸²çš„ä¿¡æ¯
var str = "fjdksljfdsklfjdsfjhgjkhjkgsd"
```

### å­—é¢é‡

```swift
///å­—ç¬¦ä¸²å­—é¢é‡æ˜¯è¢«åŒå¼•å·åŒ…è£¹çš„å›ºå®šé¡ºåºæ–‡æœ¬å­—ç¬¦ï¼Œswiftä¼šä¸ºstrå¸¸é‡æ¨æ–­ç±»å‹ä¸ºString
let str = "some string"

///å¤šè¡Œå­—é¢é‡
///å¤šè¡Œå­—é¢é‡æ˜¯ç”¨ä¸‰ä¸ªåŒå¼•å·æ‰©èµ·æ¥çš„ä¸€ç³»åˆ—å­—ç¬¦
///å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡æŠŠæ‰€æœ‰è¡ŒåŒ…æ‹¬åœ¨å¼•å·å†…ï¼Œå¼€å§‹å’Œç»“æŸé»˜è®¤ä¸ä¼šæœ‰æ¢è¡Œç¬¦
///è¡Œçš„æœ«å°¾åŠ åæ–œæ ï¼ˆ\ï¼‰å°±ä¼šæ˜¾ç¤ºè¡Œ
let softWrappedQuotation = """

the wihdkjsf;klj, "fdskl
fdsf?" fkjld. \

"fkdsl;"
"""
print(softWrappedQuotation)
```

### å­—ç¬¦ä¸²æ’å€¼

- å­—ç¬¦ä¸²æ’å€¼æ˜¯ä¸€ç§ä»æ··åˆå¸¸é‡ã€å˜é‡ã€å­—é¢é‡å’Œè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å­—é¢é‡æ„é€ æ–° String å€¼çš„æ–¹æ³•

- æ¯ä¸€ä¸ªä½ æ’å…¥åˆ°å­—ç¬¦ä¸²å­—é¢é‡çš„å…ƒç´ éƒ½è¦è¢«**ä¸€å¯¹åœ†æ‹¬å·åŒ…è£¹ï¼Œç„¶åä½¿ç”¨åæ–œæ å‰ç¼€**

- ç±»ä¼¼äº NSString çš„ stringWithFormat æ–¹æ³•ï¼Œä½†æ˜¯æ›´ç®€ä¾¿ï¼Œæ›´å¼ºå¤§

```swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
print(message)//3 times 2.5 is 7.5
```

### å­—ç¬¦ä¸²ç´¢å¼•

- æ¯ä¸€ä¸ª String å€¼éƒ½æœ‰ç›¸å…³çš„ç´¢å¼•ç±»å‹ï¼Œ String.Indexï¼Œå®ƒç›¸å½“äºæ¯ä¸ª Character åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®
- startIndex å±æ€§æ¥è®¿é—® String ä¸­ç¬¬ä¸€ä¸ª Character çš„ä½ç½®ã€‚ 
- endIndex å±æ€§å°±æ˜¯ Stringä¸­æœ€åä¸€ä¸ªå­—ç¬¦åä¸€ä¸ªçš„ä½ç½®ï¼ŒendIndex å±æ€§å¹¶ä¸æ˜¯å­—ç¬¦ä¸²ä¸‹æ ‡è„šæœ¬çš„åˆæ³•å®é™…å‚æ•°
- å¦‚æœ String ä¸ºç©ºï¼Œåˆ™ startIndex ä¸ endIndex ç›¸ç­‰
- ä½¿ç”¨ index(before:) å’Œ index(after:) æ–¹æ³•æ¥è®¿é—®ç»™å®šç´¢å¼•çš„å‰å
- è®¿é—®ç»™å®šç´¢å¼•æ›´è¿œçš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨index(_:offffsetBy:)
- ä½¿ç”¨ indices å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„ç´¢å¼•

```swift
// MARK: String.Index å› ä¸ºå­˜å‚¨çš„å­—ç¬¦æ˜¯å˜é•¿çš„ï¼Œæ­¥é•¿ä¸ä¸€æ ·ã€‚intå’Œæ±‰å­—ä¸ä¸€æ ·
var str1 = "Hello hsf"
print(str1.index(str1.startIndex, offsetBy: 1))//è¾“å‡ºindex Indexç±»å‹
print(str1[str1.index(str1.startIndex, offsetBy: 1)])//è¾“å‡ºe
print(str1[str1.index(str1.endIndex, offsetBy: -1)])//è¾“å‡ºæœ€åä¸€ä¸ªå­—ç¬¦
//Indexå’ŒstartIndexæœ¬è´¨ 64ä½çš„ä½åŸŸä¿¡æ¯
//1. encodedOffset:åç§»
//2. transcoded offset
```

```swift
let greeting = "Guten Tag!"
print(greeting[greeting.startIndex])//G
print(greeting[greeting.index(before: greeting.endIndex)])//!
print(greeting[greeting.index(after: greeting.startIndex)])//u
let index = greeting.index(greeting.startIndex, offsetBy: 7)
print(greeting[index])//a
```

### æ’å…¥insert

- æ’å…¥å­—ç¬¦ï¼Œä½¿ç”¨ insert(_:at:) æ–¹æ³•
- æ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹åˆ°ç‰¹å®šçš„ç´¢å¼•ï¼Œä½¿ç”¨ insert(contentsOf:at:) æ–¹æ³•

```swift
var welcome = "hello"
welcome.insert("!", at: welcome.endIndex)
welcome.insert(contentsOf: " there", at: welcome.index(before: welcome.endIndex))
```

### åˆ é™¤remove

â€¢ ç§»é™¤å­—ç¬¦ï¼Œä½¿ç”¨ remove(at:)æ–¹æ³•

â€¢ ç§»é™¤ä¸€å°æ®µç‰¹å®šèŒƒå›´çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ removeSubrange(_:) æ–¹æ³•

```swift
welcome.remove(at: welcome.index(before: welcome.endIndex))//åˆ é™¤æœ€åä¸€ä¸ªå­—ç¬¦
print(welcome)//hello there
let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endIndex
welcome.removeSubrange(range)
print(welcome)//hello
```

### Substringå­å­—ç¬¦ä¸²

- ä½¿ç”¨ä¸‹æ ‡æˆ–è€…ç±»ä¼¼ prefifix(_:) çš„æ–¹æ³•å¾—åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ Substring ç±»å‹
- Substring æ‹¥æœ‰ String çš„å¤§éƒ¨åˆ†æ–¹æ³•
- Substring å¯ä»¥è½¬æˆ String ç±»å‹
- å­å­—ç¬¦ä¸²é‡ç”¨ä¸€éƒ¨åˆ†åŸå­—ç¬¦ä¸²çš„å†…å­˜
- ä¿®æ”¹å­—ç¬¦ä¸²æˆ–è€…å­å­—ç¬¦ä¸²ä¹‹å‰éƒ½ä¸éœ€è¦èŠ±è´¹æ‹·è´å†…å­˜çš„ä»£ä»·
- String å’Œ Substring éƒ½éµå¾ª StringProtocol åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåŸºæœ¬ä¸Šèƒ½å¾ˆæ–¹ä¾¿åœ°å…¼å®¹æ‰€æœ‰æ¥å— StringProtocol å€¼çš„å­—ç¬¦ä¸²æ“ä½œå‡½æ•°

<img src="æ•°æ®ç±»å‹.assets/image-20221226152459761.png" alt="image-20221226152459761" style="zoom:50%;" />

### å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹

String å€¼åœ¨ä¼ é€’ç»™æ–¹æ³•æˆ–è€…å‡½æ•°çš„æ—¶å€™ä¼šè¢«å¤åˆ¶è¿‡å» 

èµ‹å€¼ç»™å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™ä¹Ÿæ˜¯ä¸€æ ·

Swift ç¼–è¯‘å™¨ä¼˜åŒ–äº†å­—ç¬¦ä¸²ä½¿ç”¨çš„èµ„æºï¼Œå®é™…ä¸Šæ‹·è´åªä¼šåœ¨ç¡®å®éœ€è¦çš„æ—¶å€™æ‰è¿›è¡Œ

```swift
var str: String = "abc"
var str1 = str
print(str == str1)  //true
str += "def"
print(str)          //abcdef
print(str1)         //abc
print(str == str1)  //false
```

### å­—ç¬¦ä¸²æ¯”è¾ƒ

- å­—ç¬¦ä¸²å’Œå­—ç¬¦ç›¸ç­‰æ€§(==å’Œ!=) 
- å‰ç¼€ç›¸ç­‰æ€§ hasPrefix(_:) 
- åç¼€ç›¸ç­‰æ€§ hasSuffix(_:)

### `Character` å’Œ `String` 

`Character` å’Œ `String` æ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»å‹ï¼Œåˆ†åˆ«ç”¨äºè¡¨ç¤ºå•ä¸ªå­—ç¬¦å’Œä¸€ç³»åˆ—å­—ç¬¦ã€‚

#### `Character`

- **å®šä¹‰**ï¼š`Character` è¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—æ¯ã€æ•°å­—ã€ç¬¦å·æˆ–å…¶ä»–å­—ç¬¦ã€‚
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨äºè¡¨ç¤ºå’Œæ“ä½œå•ä¸ªå­—ç¬¦ã€‚
- **å­˜å‚¨**ï¼š`Character` å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ‰©å±•çš„ Unicode æ ‡é‡ï¼Œå¯ä»¥è¡¨ç¤ºä»»ä½•æœ‰æ•ˆçš„ Unicode å­—ç¬¦ï¼ŒåŒ…æ‹¬ç”±å¤šä¸ª Unicode æ ‡é‡ç»„æˆçš„å­—ç¬¦ï¼ˆå¦‚ä¸€äº› emojiï¼‰ã€‚
- **ç¤ºä¾‹**ï¼š
  ```swift
  let char: Character = "A"
  let emoji: Character = "ğŸ˜Š"
  ```

### `String`

- **å®šä¹‰**ï¼š`String` è¡¨ç¤ºä¸€ç³»åˆ—å­—ç¬¦çš„é›†åˆï¼Œå¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨äºè¡¨ç¤ºå’Œæ“ä½œæ–‡æœ¬ã€‚
- **å­˜å‚¨**ï¼š`String` æ˜¯ä¸€ä¸ªå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒé«˜æ•ˆçš„å­—ç¬¦ä¸²æ“ä½œï¼ŒåŒ…å« Unicode ç¼–ç å’Œå­—ç¬¦ä¸²æ“ä½œä¼˜åŒ–ã€‚
- **ç¤ºä¾‹**ï¼š
  
  ```swift
  let str: String = "Hello, World!"
  let emptyStr: String = ""
  ```

### ä¸»è¦åŒºåˆ«

1. **ç±»å‹**ï¼š
   - `Character` è¡¨ç¤ºå•ä¸ªå­—ç¬¦ã€‚
   - `String` è¡¨ç¤ºä¸€ç³»åˆ—å­—ç¬¦ã€‚

2. **åˆå§‹åŒ–**ï¼š
   - `Character` åªèƒ½ç”¨å•ä¸ªå­—ç¬¦åˆå§‹åŒ–ã€‚
   - `String` å¯ä»¥ç”¨é›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦åˆå§‹åŒ–ã€‚

3. **æ“ä½œ**ï¼š
   - `Character` ä¸»è¦ç”¨äºè¡¨ç¤ºå’Œæ“ä½œå•ä¸ªå­—ç¬¦ã€‚
   - `String` æä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•ï¼Œå¦‚æ‹¼æ¥ã€åˆ†å‰²ã€æŸ¥æ‰¾ã€æ›¿æ¢ç­‰ã€‚

### ç¤ºä¾‹å¯¹æ¯”

1. **å®šä¹‰å’Œåˆå§‹åŒ–**ï¼š
   
   ```swift
   let char: Character = "A"          // å•ä¸ªå­—ç¬¦
   let emoji: Character = "ğŸ˜Š"        // å•ä¸ª emoji
   
   let str: String = "Hello"          // å­—ç¬¦ä¸²
   let emptyStr: String = ""          // ç©ºå­—ç¬¦ä¸²
   ```
   
2. **å­—ç¬¦ä¸²æ‹¼æ¥**ï¼š
   ```swift
   let firstChar: Character = "H"
   let secondChar: Character = "i"
   let combinedStr: String = String(firstChar) + String(secondChar)  // "Hi"
   ```

3. **å­—ç¬¦éå†**ï¼š
   ```swift
   let greeting: String = "Hello"
   for char in greeting {
       print(char)  // ä¾æ¬¡æ‰“å° "H", "e", "l", "l", "o"
   }
   ```

4. **æ£€æŸ¥å­—ç¬¦æ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­**ï¼š
   ```swift
   let searchStr: String = "Hello, World!"
   let searchChar: Character = "W"
   let containsChar = searchStr.contains(searchChar)  // true
   ```

### æ€»ç»“

- ä½¿ç”¨ `Character` æ¥è¡¨ç¤ºå’Œæ“ä½œå•ä¸ªå­—ç¬¦ã€‚
- ä½¿ç”¨ `String` æ¥è¡¨ç¤ºå’Œæ“ä½œä¸€ç³»åˆ—å­—ç¬¦æˆ–æ–‡æœ¬ã€‚

## Tuple

å…ƒç»„å¯ä»¥å­˜å‚¨å›ºå®šæ•°é‡çš„å„ç§ç±»å‹çš„å…ƒç´ ï¼Œè€Œä¸éœ€è¦åˆ›å»ºè‡ªå®šä¹‰ç±»ã€‚

å…ƒç»„æŠŠå¤šä¸ªå€¼åˆå¹¶æˆå•ä¸€çš„å¤åˆå‹çš„å€¼

å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œå¹¶ä¸”ä¸å¿…æ˜¯åŒä¸€ç±»å‹

```swift
//å®šä¹‰ä¸€ä¸ªerroré”™è¯¯
let error = (1, "æ²¡æœ‰æƒé™")
print(error.0)
print(error.1)
```

### å…ƒç´ å‘½å

å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¯ä»¥æŒ‡å®šå¯¹åº”çš„å…ƒç´ åç§°

å¦‚æœæ²¡æœ‰æŒ‡å®šåç§°çš„å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡çš„æ–¹å¼æ¥å¼•ç”¨

```swift
let error = (errorCode: 1, errorMessage: "æ²¡æœ‰æƒé™")
print(error.errorCode)
print(error.errorMessage)
```

### Tupleä¿®æ”¹

ç”¨varå®šä¹‰çš„å…ƒç»„æ˜¯å¯å˜å…ƒç»„ï¼Œletå®šä¹‰çš„æ˜¯ä¸å¯å˜å…ƒç»„

æ— è®ºæ˜¯å¯å˜è¿˜æ˜¯ä¸å¯å˜å…ƒç»„ï¼Œå…ƒç»„åœ¨åˆ›å»ºåå°±ä¸èƒ½å¢åŠ å’Œåˆ é™¤å…ƒç´ 

å¯ä»¥å¯¹å¯å˜å…ƒç»„çš„å…ƒç´ è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯ä¸èƒ½æ”¹å˜å…¶ç±»å‹

anyç±»å‹å¯ä»¥æ”¹ä¸ºä»»æ„ç±»å‹

```swift
var error: (Any, String) = (1, "æ²¡æœ‰æƒé™")
error.0 = 2
print(error)
error.0 = "adc"
print(error)	
```

```swift
var error: (errorCode: Int, errorMessage: Any) = (errorCode: 1, errorMessage: "æ²¡æœ‰æƒé™")
error.errorCode = 2
print(error)
error.errorMessage = 3
print(error)
```

### Tupleåˆ†è§£

å¯ä»¥å°†ä¸€ä¸ªå…ƒç»„çš„å†…å®¹åˆ†è§£æˆå•ç‹¬çš„å¸¸é‡æˆ–å˜é‡

å¦‚æœåªéœ€è¦ä½¿ç”¨å…¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä¸éœ€è¦çš„æ•°æ®å¯ä»¥ç”¨ä¸‹åˆ’çº¿`_`ä»£æ›¿

```swift
let error = (1, "æ²¡æœ‰æƒé™")
let (_, errorMessage) = error
print(errorMessage)
```

### Tupleä½œä¸ºå‡½æ•°è¿”å›å€¼

è¿”å›å€¼çš„Tupleå¯ä»¥åœ¨å‡½æ•°çš„è¿”å›ç±»å‹éƒ¨åˆ†è¢«å‘½å

```swift
func writeToFile(conent: String) -> (errorCode: Int, errorMessage: String) {
  return (1, "æ²¡æœ‰æƒé™")
}
```

## Array

### åˆ›å»ºæ•°ç»„

#### å­—é¢é‡åˆ›å»º

```swift
let array = [1, 2, 3, 4]
```

å­—é¢é‡åˆ›å»ºç©ºæ•°ç»„

åˆ›å»ºç©ºæ•°ç»„çš„æ—¶å€™å¿…é¡»æºå¸¦ç±»å‹ä¿¡æ¯

å¦‚æœå†…å®¹å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ä½œä¸ºå‡½æ•°çš„å®é™…å‚æ•°æˆ–è€…å·²ç»åˆ†ç±»äº†çš„å˜é‡æˆ–å¸¸é‡ï¼Œä½ å¯ä»¥é€šè¿‡ç©ºæ•°ç»„å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„

```swift
let array = []//æŠ¥é”™ï¼šEmpty collection literal requires an explicit type
```

#### åˆå§‹åŒ–å™¨

ä½¿ç”¨åˆå§‹åŒ–å™¨æœ‰ä¸¤ç§æ–¹å¼

- `[ç±»å‹]()`
- `Array<ç±»å‹>()`

```swift
var myArray = [String]()
var myArray2 = Array<String>()
```

##### åˆå§‹åŒ–å™¨å‚æ•°

```swift
let fiveZs = Array(repeating: "Z", count: 5)
print(fiveZs)//["Z", "Z", "Z", "Z", "Z"]

let numbers = [Int](0...7)
print(numbers)//[0, 1, 2, 3, 4, 5, 6, 7]

let persons = ["zhangsan" : 27, "lisi" : 28, "wangwu" : 29]
let names = [String](persons.keys)
print(names)//["lisi", "wangwu", "zhangsan"]
```

### æ•°ç»„éå†

#### forEach

æ— æ³•ä½¿ç”¨ break æˆ– continue è·³å‡ºæˆ–è€…è·³è¿‡å¾ªç¯

ä½¿ç”¨ return åªèƒ½é€€å‡ºå½“å‰ä¸€æ¬¡å¾ªç¯çš„æ‰§è¡Œä½“

```swift
let numbers = [Int](0...7)
numbers.forEach { num in
	if num == 3 {
		break//æŠ¥é”™ï¼šUnlabeled 'break' is only allowed inside a loop or switch, a labeled break is required to exit an if or do
	}
	print(num * 10)
}


let numbers = [Int](0...7)
numbers.forEach { num in
	if num == 3 {
		return
	}
	print(num * 10)//0 10 20 40 50 60 70
}
```

##### ä½¿ç”¨$0

```swift
cell.contentView.subviews.forEach { $0.removeFromSuperview() }
```

#### For-In åŒæ—¶å¾—åˆ°ç´¢å¼•å’Œå€¼ enumerated()

```swift
let numbers = [Int](2...7)
for (index, num) in numbers.enumerated() {
  print("the index is: \(index)")
  print(num * 10)
}
```

#### ä½¿ç”¨ Iterator éå†æ•°ç»„

```swift
let numbers = [Int](2...7)
var numIterator = numbers.makeIterator()
while let num = numIterator.next() {
  print(num * 10)
}
```

### ç´¢å¼•

- startIndex è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œå¯¹äºæ•°ç»„æ¥è¯´ï¼Œæ°¸è¿œéƒ½æ˜¯ 0ã€‚
- endIndex è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ç´¢å¼• +1 çš„ä½ç½®ï¼Œå¯¹äºæ•°ç»„æ¥è¯´ï¼Œç­‰åŒäºcount ã€‚
- å¦‚æœæ•°ç»„ä¸ºç©ºï¼ŒstartIndex ç­‰äº endIndex ã€‚

#### indices è·å–æ•°ç»„çš„ç´¢å¼•åŒºé—´

```swift
let numbers = [Int](2...7)
for i in numbers.indices {
  print(numbers[i])
}
```

### containsåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ 

contains(_:) åˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šå…ƒç´ 

contains(where:) åˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«ç¬¦åˆç»™å®šæ¡ä»¶çš„å…ƒç´ 

### åˆ¤æ–­æ‰€æœ‰å…ƒç´ æ˜¯å¦ç¬¦åˆæŸä¸ªæ¡ä»¶

â€¢ allSatisfy(_:) åˆ¤æ–­æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ç¬¦åˆç»™å®šçš„æ¡ä»¶

```swift
let array = [10, 20, 45, 30, 98, 101, 30, 4]
print(array.allSatisfy({ $0 > 10 }))//false
print(array.allSatisfy({ $0 >= 4 }))//true
```

### æŸ¥æ‰¾å…ƒç´ 

- first è¿”å›æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆoptionalï¼‰ï¼Œå¦‚æœæ•°ç»„ä¸ºç©ºï¼Œè¿”å› nil ã€‚
- last è¿”å›æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆoptionalï¼‰ï¼Œå¦‚æœæ•°ç»„ä¸ºç©ºï¼Œè¿”å› nilã€‚
- first(where:) è¿”å›æ•°ç»„ç¬¬ä¸€ä¸ªç¬¦åˆç»™å®šæ¡ä»¶çš„å…ƒç´ ï¼ˆoptionalï¼‰ã€‚
- last(where:) è¿”å›æ•°ç»„æœ€åä¸€ä¸ªç¬¦åˆç»™å®šæ¡ä»¶çš„å…ƒç´ ï¼ˆoptionalï¼‰ã€‚

```swift
let array = [10, 20, 45, 30, 98, 101, 30, 4]
print(array.first)//Optional(10)
print(array.last)//Optional(4)
print(array.first(where: { $0 > 25 }))//Optional(45)
print(array.last(where: { $0 > 25 }))//Optional(30)
```

### æŸ¥æ‰¾ç´¢å¼•

- firstIndex(of:) è¿”å›ç»™å®šçš„å…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆoptionalï¼‰ 
- lastIndex(of:) è¿”å›ç»™å®šçš„å…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°çš„æœ€åä¸€ä¸ªä½ç½®ï¼ˆoptionalï¼‰

```swift
var array = [10, 20, 45, 30, 98, 101, 30, 4]
print(array.firstIndex(of: 30))//Optional(3)
print(array.lastIndex(of: 20))//Optional(1)
```

- firstIndex(where:) è¿”å›ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼ˆoptionalï¼‰
- lastIndex(where:) è¿”å›ç¬¦åˆæ¡ä»¶çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼ˆoptionalï¼‰

```swift
var array = [10, 20, 45, 30, 98, 101, 30, 4]
print(array.firstIndex(where: { $0 > 25 }))//Optional(2)
print(array.lastIndex(where: { $0 > 25 }))//Optional(6)
```

### æŸ¥æ‰¾æœ€å¤§æœ€å°å…ƒç´ 

- min() è¿”å›æ•°ç»„ä¸­æœ€å°çš„å…ƒç´ 
- max() è¿”å›æ•°ç»„ä¸­æœ€å¤§çš„å…ƒç´ 
- min(by:) åˆ©ç”¨ç»™å®šçš„æ–¹å¼æ¯”è¾ƒå…ƒç´ å¹¶è¿”å›æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ 
- max(by:) åˆ©ç”¨ç»™å®šçš„æ–¹å¼æ¯”è¾ƒå…ƒç´ å¹¶è¿”å›æ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ 

```swift
var array = [(45,"error1"),(23,"error2"),(30,"error3")]
print(array.min { a, b in a.0 < b.0 })	//Optional((23, "error2"))
print(array.max { a, b in a.0 < b.0 })	//Optional((45, "error1"))
```

### append

- append(_:) åœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
- append(contentsOf: ) åœ¨æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´ 

```swift
var array = [Int](2...7)
array.append(100)
array.append(contentsOf: 200...204)
print(array)//[2, 3, 4, 5, 6, 7, 100, 200, 201, 202, 203, 204]
```

### insert

- insert(_:at:) åœ¨æŒ‡å®šçš„ä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ 

  ```swift
  var array = [1, 2, 4]
  array.insert(3, at: 2)  // ç°åœ¨æ•°ç»„æ˜¯ [1, 2, 3, 4]
  ```
- insert(contentsOf: at:) åœ¨æŒ‡å®šä½ç½®æ’å…¥å¤šä¸ªå…ƒç´ 

### ArraySlice

ArraySlice æ˜¯æ•°ç»„æˆ–è€…å…¶ä»– ArraySlice çš„ä¸€æ®µè¿ç»­åˆ‡ç‰‡ï¼Œ**å’ŒåŸæ•°ç»„å…±äº«å†…å­˜**ã€‚

å½“è¦**æ”¹å˜ ArraySlice çš„æ—¶å€™ï¼ŒArraySlice ä¼š copy å‡ºæ¥ï¼Œå½¢æˆå•ç‹¬å†…å­˜**ã€‚

ArraySlice æ‹¥æœ‰å’Œ Array åŸºæœ¬å®Œå…¨ç±»ä¼¼çš„æ–¹æ³•

![image-20221230121140793](æ•°æ®ç±»å‹.assets/image-20221230121140793.png)

#### é€šè¿‡ drop å¾—åˆ° ArraySlice

- dropFirst(:) â€œç§»é™¤â€åŸæ•°ç»„å‰é¢æŒ‡å®šä¸ªæ•°çš„å…ƒç´ å¾—åˆ°ä¸€ä¸ª ArraySlice
- dropLast(:) â€œç§»é™¤â€åŸæ•°ç»„åé¢æŒ‡å®šä¸ªæ•°çš„å…ƒç´ å¾—åˆ°ä¸€ä¸ª ArraySlice
- drop(:) â€œç§»é™¤â€åŸæ•°ç»„ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ å¾—åˆ°ä¸€ä¸ª ArraySlice

```swift
var array = [5, 2, 10, 1, 0, 100, 46, 99]
array.dropFirst()
array.dropFirst(3)
array.dropLast()
array.dropLast(3)
print(array.drop { $0 < 15 })//[100, 46, 99]
```

#### é€šè¿‡ prefifix å¾—åˆ° ArraySlice

- prefifix() è·å–æ•°ç»„å‰é¢æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ç»„æˆçš„ ArraySlice

- prefifix(upTo: ) è·å–æ•°ç»„åˆ°æŒ‡å®šä½ç½®ï¼ˆä¸åŒ…å«æŒ‡å®šä½ç½®ï¼‰å‰é¢çš„å…ƒç´ ç»„æˆçš„ ArraySlice

- prefifix(through: ) è·å–æ•°ç»„åˆ°æŒ‡å®šä½ç½®ï¼ˆåŒ…å«æŒ‡å®šä½ç½®ï¼‰å‰é¢çš„å…ƒç´ ç»„æˆçš„ ArraySlice
- prefifix(while: ) è·å–æ•°ç»„å‰é¢ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼ˆåˆ°ç¬¬ä¸€ä¸ªä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ æˆªæ­¢ï¼‰ç»„æˆçš„ ArraySlice

```swift
var array = [5, 2, 10, 1, 0, 100, 46, 99]
array.prefix(4)// [5, 2, 10, 1]
array.prefix(upTo: 4)// [5, 2, 10, 1]
array.prefix(through: 4)// [5, 2, 10, 1, 0]
print(array.prefix { $0 < 10 })//
```

#### é€šè¿‡ suffix å¾—åˆ° ArraySlice

- suffix() è·å–æ•°ç»„åé¢æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ç»„æˆçš„ ArraySlice
- suffix(from: ) è·å–æ•°ç»„ä»æŒ‡å®šä½ç½®åˆ°ç»“å°¾ï¼ˆåŒ…å«æŒ‡å®šä½ç½®ï¼‰çš„å…ƒç´ ç»„æˆçš„ ArraySlice

```swift
var array = [5, 2, 10, 1, 0, 100, 46, 99]
array.suffix(3)// [100, 46, 99]
array.suffix(from: 4)// [0, 100, 46, 99]
```

#### é€šè¿‡ Range å¾—åˆ° ArraySlice

é€šè¿‡å¯¹æ•°ç»„ä¸‹æ ‡æŒ‡å®š Range è·å– ArraySliceï¼Œå¯ä»¥ä½¿ç”¨é—­åŒºé—´ã€åŠå¼€åŠé—­åŒºé—´ã€å•ä¾§åŒºé—´ã€ç”šè‡³å¯ä»¥åªä½¿ç”¨ â€¦ æ¥è·å–æ•´ä¸ªæ•°ç»„ç»„æˆçš„ ArraySlice ã€‚

```swift
var array = [5, 2, 10, 1, 0, 100, 46, 99]
array[3...5]//[1, 0, 100]
array[3..<5]//[1, 0]
array[...2]//[5, 2, 10]
array[6...]//[46, 99]
array[...]//[5, 2, 10, 1, 0, 100, 46, 99]
```

#### ArraySlice è½¬ä¸º Array

ArraySlice æ— æ³•ç›´æ¥èµ‹å€¼ç»™ä¸€ä¸ª Array çš„å¸¸é‡æˆ–å˜é‡ï¼Œéœ€è¦ä½¿ç”¨ Array(slice) ã€‚

#### ArraySlice å’ŒåŸ Array ç›¸äº’ç‹¬ç«‹

ArraySlice å’ŒåŸ Array æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå®ƒä»¬æ·»åŠ åˆ é™¤å…ƒç´ ä¸ä¼šå½±å“å¯¹æ–¹ã€‚

#### æ•°ç»„å…ƒç´ çš„éšæœºåŒ–

shuffle() åœ¨åŸæ•°ç»„ä¸Šå°†æ•°ç»„å…ƒç´ æ‰“ä¹±ï¼Œåªèƒ½ä½œç”¨åœ¨æ•°ç»„å˜é‡ä¸Šã€‚

shuffled() è¿”å›åŸæ•°ç»„çš„éšæœºåŒ–æ•°ç»„ï¼Œå¯ä»¥ä½œç”¨åœ¨æ•°ç»„å˜é‡å’Œå¸¸é‡ä¸Šã€‚

#### æ•°ç»„çš„é€†åº

reverse() åœ¨åŸæ•°ç»„ä¸Šå°†æ•°ç»„é€†åºï¼Œåªèƒ½ä½œç”¨åœ¨æ•°ç»„**å˜é‡**ä¸Šã€‚

reversed() è¿”å›åŸæ•°ç»„çš„é€†åºâ€œé›†åˆè¡¨ç¤ºâ€ï¼Œå¯ä»¥ä½œç”¨åœ¨æ•°ç»„å˜é‡å’Œå¸¸é‡ä¸Šï¼Œè¯¥æ–¹æ³•ä¸ä¼šåˆ†é…æ–°å†…å­˜ç©ºé—´

#### æ•°ç»„çš„åˆ†ç»„

partition(by belongsInSecondPartition: (Element) throws -> Bool) å°†æ•°ç»„ä»¥æŸä¸ªæ¡ä»¶åˆ†ç»„ï¼Œæ•°ç»„å‰åŠéƒ¨åˆ†éƒ½æ˜¯ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œæ•°ç»„ååŠéƒ¨åˆ†éƒ½æ˜¯ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚

```swift
var array = [10, 20, 45, 30, 98, 101, 30, 4]
let index = array.partition { element -> Bool in
	element > 30
}
print(array)//[10, 20, 4, 30, 30, 101, 98, 45]
let partition1 = array[..<index]
let partition2 = array[index...]
print(partition1)//[10, 20, 4, 30, 30]
print(partition2)//[101, 98, 45]
```

#### æ•°ç»„çš„æ’åº

sort() åœ¨åŸæ•°ç»„ä¸Šå°†å…ƒç´ æ’åºï¼Œåªèƒ½ä½œç”¨äºæ•°ç»„å˜é‡ã€‚

sorted() è¿”å›åŸæ•°ç»„çš„æ’åºç»“æœæ•°ç»„ï¼Œå¯ä»¥ä½œç”¨åœ¨æ•°ç»„å˜é‡å’Œå¸¸é‡ä¸Šã€‚

#### äº¤æ¢æ•°ç»„ä¸¤ä¸ªå…ƒç´ 

```swift
var array = [10, 20, 45, 30, 98, 101, 30, 4]
array.swapAt(array.startIndex, array.endIndex - 1)
print(array)//[4, 20, 45, 30, 98, 101, 30, 10]
```

#### å­—ç¬¦ä¸²æ•°ç»„æ‹¼æ¥

joined() æ‹¼æ¥å­—ç¬¦ä¸²æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²

joined(separator:) ä»¥ç»™å®šçš„åˆ†éš”ç¬¦æ‹¼æ¥å­—ç¬¦ä¸²æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²

```swift
var array = ["hello", "word"]
print(array.joined())//helloword
print(array.joined(separator: ","))//hello,word
```

#### å…ƒç´ ä¸º Sequence æ•°ç»„çš„æ‹¼æ¥

joined() æ‹¼æ¥æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ ä¸ºä¸€ä¸ªæ›´å¤§çš„ Sequence

joined(separator:) ä»¥ç»™å®šçš„åˆ†éš”ç¬¦æ‹¼æ¥æ•°ç»„é‡Œçš„æ‰€æœ‰å…ƒç´ ä¸ºä¸€ä¸ªæ›´å¤§çš„ Sequence

```swift
let ranges = [0..<3, 8..<10, 15..<17]
for range in ranges {
  print(range)//0..<3 8..<10 15..<17
}
for i in ranges.joined() {
  print(i) //0 1 2 8 9 15 16
}
```

```swift
let nestedNumbers = [[1,2,3], [4,5,6], [7,8,9]]
let joined = nestedNumbers.joined(separator: [-1,-2])
print(Array(joined))//[1, 2, 3, -1, -2, 4, 5, 6, -1, -2, 7, 8, 9]
```

### æ•°ç»„çš„åè®®ç»“æ„

`Sequence -> Collection -> RangeReplaceableCollection -> Array`

## Sequence

åºåˆ— (sequence) ä»£è¡¨çš„æ˜¯ä¸€ç³»åˆ—å…·æœ‰ç›¸åŒç±»å‹çš„å€¼ï¼Œå¯ä»¥å¯¹è¿™äº›å€¼è¿›è¡Œè¿­ä»£ã€‚

```swift
public protocol Sequence {

    /// A type representing the sequence's elements.
    associatedtype Element where Self.Element == Self.Iterator.Element

    /// A type that provides the sequence's iteration interface and
    /// encapsulates its iteration state.
    associatedtype Iterator : IteratorProtocol

    /// Returns an iterator over the elements of this sequence.
    func makeIterator() -> Self.Iterator

    var underestimatedCount: Int { get }

    func withContiguousStorageIfAvailable<R>(_ body: (_ buffer: UnsafeBufferPointer<Self.Element>) throws -> R) rethrows -> R?
}
```

### IteratorProtocol

Sequence é€šè¿‡åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨æ¥æä¾›å¯¹å…ƒç´ çš„è®¿é—®ã€‚è¿­ä»£å™¨æ¯æ¬¡äº§ç”Ÿä¸€ä¸ªåºåˆ—çš„å€¼ï¼Œå¹¶ä¸”å½“éå†åºåˆ—æ—¶å¯¹éå†çŠ¶æ€è¿›è¡Œç®¡ç†ã€‚

å½“åºåˆ—è¢«è€—å°½æ—¶ï¼Œnext() åº”è¯¥è¿”å› nil ã€‚

```swift
public protocol IteratorProtocol {
    /// The type of element traversed by the iterator.
    associatedtype Element//å…³è”ç±»å‹
    /// - Returns: The next element in the underlying sequence, if a next element
    ///   exists; otherwise, `nil`.
    mutating func next() -> Self.Element?//ä¸æ–­çš„äº§ç”Ÿå…ƒç´ 
}
```

### for_in

```swift
func for_in() {
    let numbers = [2,3,4,5,6]
    //for inä¹Ÿæ˜¯è¯­æ³•ç³– ç¼–è¯‘ä¹‹ååˆ›å»ºIteratorè¿­ä»£å™¨ï¼Œè°ƒç”¨iterator.next
    for num in numbers{
        print(num)
    }
}
```

## è‡ªå®šä¹‰Sequence

```swift
struct LGIterator: IteratorProtocol{
    typealias Element = Int
    let sequence: LGSequence
    init(_ sequence: LGSequence) {
        self.sequence = sequence
    }
    var count = 0

    //éå†çš„æ—¶å€™ï¼Œè¿”å›çš„å…ƒç´ 
    mutating func next() -> Int? {
        guard count < self.sequence.arrayCount else {
            return nil
        }
        count += 1
        return count
    }
}

struct LGSequence: Sequence {
    typealias Element = Int
    var arrayCount: Int
    func makeIterator() -> LGIterator {
        return LGIterator(self)
    }
}

//test
func test() {
    let seq = LGSequence(arrayCount: 10)
    for element in seq{
        print(element)
    }
}
```

```swift
// MARK: æ— é™çš„é›†åˆ
struct HHIterator: IteratorProtocol{
    let value: Int
    func next() -> Int? {
        return value
    }
}
func test() {
    let Iterator = HHIterator(value: 10)
    while let x = Iterator.next(){
        print(x)//ä¼šä¸æ–­çš„è¾“å‡º10 ä¸€ç›´å¡æ­»
    }
}
```

## Collection

Collection æ˜¯æ»¡è¶³ä¸‹é¢æ¡ä»¶çš„ Sequence

- ç¨³å®šçš„ Sequenceï¼Œèƒ½å¤Ÿè¢«å¤šæ¬¡éå†ä¸”ä¿æŒä¸€è‡´
- é™¤äº†çº¿æ€§éå†ä»¥å¤–ï¼Œé›†åˆä¸­çš„å…ƒç´ ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹æ ‡ç´¢å¼•çš„æ–¹å¼è¢«è·å–åˆ°
- å’Œ Sequence ä¸åŒï¼ŒCollection ç±»å‹ä¸èƒ½æ˜¯æ— é™çš„

## set

é›†åˆçš„ä¸‰ä¸ªç‰¹æ€§

- ç¡®å®šæ€§ ï¼šç»™å®šä¸€ä¸ªé›†åˆï¼Œä»»ç»™ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ æˆ–è€…å±äºæˆ–è€…ä¸å±äºè¯¥é›†åˆï¼ŒäºŒè€…å¿…å±…å…¶ä¸€ã€‚
- äº’æ–¥æ€§ ï¼š ä¸€ä¸ªé›†åˆä¸­ï¼Œä»»ä½•ä¸¤ä¸ªå…ƒç´ éƒ½è®¤ä¸ºæ˜¯ä¸ç›¸åŒçš„ï¼Œå³æ¯ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
- æ— åºæ€§ ï¼š ä¸€ä¸ªé›†åˆä¸­ï¼Œæ¯ä¸ªå…ƒç´ çš„åœ°ä½éƒ½æ˜¯ç›¸åŒçš„ï¼Œå…ƒç´ ä¹‹é—´æ˜¯æ— åºçš„ã€‚

### Swift é‡Œé¢çš„é›†åˆ

Swift çš„é›†åˆç±»å‹å†™åš Set<Element>ï¼Œè¿™é‡Œçš„ Element æ˜¯ Set è¦å‚¨å­˜çš„ç±»å‹ã€‚ä¸åŒä¸æ•°ç»„ï¼Œé›†åˆæ²¡æœ‰ç­‰ä»·çš„ç®€å†™ã€‚

#### åˆ›å»º Set

- ä½¿ç”¨åˆå§‹åŒ–å™¨è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç¡®å®šç±»å‹çš„ç©º Set
- ä½¿ç”¨æ•°ç»„å­—é¢é‡åˆ›å»º Set

```swift
var letters = Set<Character>()
letters.insert("C")
print(letters)//["C"]

var course: Set<String> = ["Match", "English", "History"]
course.insert("History")
print(course)//["Match", "English", "History"]
```

#### Set ç±»å‹çš„å“ˆå¸Œå€¼

ä¸ºäº†èƒ½è®©ç±»å‹å‚¨å­˜åœ¨ Set å½“ä¸­ï¼Œå®ƒå¿…é¡»æ˜¯å¯å“ˆå¸Œçš„â€”â€”å°±æ˜¯è¯´ç±»å‹å¿…é¡»æä¾›**è®¡ç®—å®ƒè‡ªèº«å“ˆå¸Œå€¼**çš„æ–¹æ³•ã€‚

æ‰€æœ‰ Swift çš„åŸºç¡€ç±»å‹ï¼ˆæ¯”å¦‚ String, Int, Double, Boolï¼‰é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸Œçš„ï¼Œå¹¶ä¸”å¯ç”¨äº Set æˆ–è€…Dictionary çš„é”®ã€‚

##### è‡ªå®šä¹‰ç±»å‹éœ€è¦å®ç° Hashable åè®®

```swift
struct Person {
    var name: String
    var age: Int
}

extension Person: Hashable {
    func hash(into hasher: inout Hasher) {
        hasher.combine(name)
        hasher.combine(age)
    }
}

var personSet = Set<Person>()
personSet.insert(Person(name: "zhangsan", age: 28))
```

## Dictionary

- å­—å…¸å‚¨å­˜æ— åºçš„äº’ç›¸å…³è”çš„**åŒä¸€ç±»å‹çš„é”®**å’Œ**åŒä¸€ç±»å‹çš„å€¼**çš„é›†åˆ

- å­—å…¸ç±»å‹çš„å…¨å†™æ–¹å¼ Dictionary<Key, Value>ï¼Œç®€å†™æ–¹å¼ [Key: Value]

- å­—å…¸çš„ key å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„

### åˆ›å»ºç©ºå­—å…¸

```swift
//åˆå§‹åŒ–å™¨æ–¹å¼
var dict1 = Dictionary<String, Int>()
//ç®€å†™æ–¹å¼
var dict2 = [String: Int]()
//å­—é¢é‡æ–¹å¼
var dict3: Dictionary<String, Int> = [:]
let dict = ["SerialNo":18, "SerialNote":19, "FlowId":20]
```

### count å’Œ isEmpty

ä½¿ç”¨åªè¯»å±æ€§`count`æ‰¾å‡º Dictionary æ‹¥æœ‰å¤šå°‘å…ƒç´ 

ä½¿ç”¨å¸ƒå°”é‡ isEmpty å±æ€§æ£€æŸ¥å­—å…¸æ˜¯å¦ä¸ºç©º
