# 符号表

OC动态语言

通过类的名称和方法的名称就可以调用类和方法，名称保存在machO的`Section64（_TEXT,_objc_methodname）`和`Section64（_TEXT,_objc_classname）`里面。

swift动态派发

C函数没有动态特性，C函数是地址。

# 去掉符号表中的符号

![image-20220418214613707](符号表.assets/image-20220418214613707.png)

去掉符号好处：安装包减小，应用更加安全。

# 全局符号

动态库：全局符号（导出符号），动态库会用到。

在app里面：本地全局符号都可以去掉，间接符号表中的符号不能去掉。

# 恢复符号

# 通过函数调用栈找名字

知道方法的地址和machO的image list的首地址

# 符号冲突

### 动态库

动态库的方法调用，先找库，再去里面找符号。动态库不存在符号冲突。

![image-20220418231226419](符号表.assets/image-20220418231226419.png)

### 静态库

1. 当静态库没有使用的符号，那么静态库不会被链接。
2. 链接器找到符号后，相同的符号就不会再找了。谁先链接，使用谁。

分类没有链接，因为分类是动态创建的。给链接器添加参数，`项目 ---> TARGETS ---> Build Settings ---> Other Link Flags ---> -ObjC`，让链接器加载所有和OC相关的代码。





