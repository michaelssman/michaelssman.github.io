# 结构体的内存对⻬⽅式

1. 数据成员对⻬规则：结构(struct)的第⼀个数据成员放在offset为0的地⽅，以后每个数据成员存储的起始位置要从该成员⼤⼩或者成员的⼦成员⼤⼩的整数倍开始(⽐如int为４字节,则要从４的整数倍地址开始存储)。 
2. 结构体作为成员:如果⼀个结构⾥有某些结构体成员,**则结构体成员要从其内部最⼤元素⼤⼩的整数倍地址开始存储**.(struct a⾥存有struct b,b⾥有char,int ,double等元素,那b应该从8的整数倍开始存储)。 
3. 收尾⼯作:结构体的总⼤⼩,也就是sizeof的结果必须是其内部最⼤成员的整数倍,不⾜的要补⻬。

1字节8位

- char 1
- bool 1
- short 2
- int 4
- double 8

```c++
struct LGStruct1 {
    double a;   //8字节 [0 7]
    char b;     //1字节 [8]
    int c;      //4字节 [9 10 11 12 13 14 15]
    short d;    //2字节 [16 17]
}struct1;//需要24字节
```

结构体中有结构体

```c++
struct LGStruct1 {
    double a;   //8字节 [24 31]
    char b;     //1字节 [32]
    int c;      //4字节 [36 39]
    short d;    //2字节 [40 41]
}struct1;//需要24字节

struct LGStruct3 {
    double a;               //8字节 [0 7]
    int b;                  //4字节 [8 9 10 11]
    char c;                 //1字节 [12]
    short d;                //2字节 [14 15]
    int e;                  //4字节 [16 17 18 19]
    struct LGStruct1 str;   //
}struct3;//需要48个字节存储
```



