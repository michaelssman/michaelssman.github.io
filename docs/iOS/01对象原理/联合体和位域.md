# 联合体和位域

## 位域

优化内存，节省内存空间

```c++
//0000 0001
struct LGCar2 {
    BOOL front: 1;//占1个位置 不是字节
    BOOL back : 2;//占2个位置
    BOOL left : 6;//占6个位置
    BOOL right: 1;//占1个位置
};
```

```c++
struct LGStruct1 {
    char a;//1字节
    char b;
    char c;
    char d;
}struct1;//4字节

struct LGStruct2 {
    char a : 1;//位域 :1 用1个域，占1个位
    char b : 1;
    char c : 1;
    char d : 1;
}struct2;//1字节

struct LGStruct3 {
    // a: 位域名  32:位域长度
    int a : 32;
    char b : 2;
    char c : 7;
    char d : 2;
}struct3;

struct LGTeacher1 {
    char *name;
    int age;
    double height;
}t1;
```

## 联合体union

共享内存，共用一块内存空间。

划一块足够大的内存空间，整块内存空间怎么使用，操作系统不会管理，程序员自己管理。

**结构体里面的成员变量是共存，联合体里面的成员变量是互斥。**

作用：节省内存空间。

用处：成员变量只能存在一个的时候。

```c++
//8字节
///1.联合体必须能够容纳最大的成员变量
///通过1计算出来的大小必须是其最大成员变量(基本数据类型)的整数倍
union LGTeacher2 {
    char *name;//指针 8字节
    int age;
    int height;
}t2;

union LGTeacher3 {
    char a[7]; //7
    int b; // 4
}t3; // 8
```

