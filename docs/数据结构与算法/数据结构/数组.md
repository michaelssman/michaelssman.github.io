# 数组

数组是最常用的数据结构

数组要连续的使用，中间不能有空的。

## 特点

- 长度确定，一旦被创建，大小就是不可以改变的。
- 元素的类型必须是相同类型，不允许出现混合类型。
- 数组类型可以是任何数据类型，包括基本类型和引用类型。
- 数组有索引：索引从0开始，到数据.length-1结束。

## 数组操作

### 插入数据 

如果在中间插入数据的话， 所有后面的数据都要移动，空出来位置，去插入。如果数组有一百万个数，插入一个数据，几十万个数据都要向后移动，所以数组的插入非常慢。

### 删除数据

找到数据，删除，位置就空了，为了不留空位，后面的都要向前移动。

- 缺点：

  插入和删除数据 后面的数据都要移动。因为数组是不允许中间为空的，所以就要移动数据。如果数据特别多的时候 几百万个数据都要移动，速度就会很慢。

- 优点：

  可以进行二分查找（折半查找）。数组排好序就可以折半再折半。

## 数组内存结构

结构体3部分：

1. cap容量
2. length长度
3. 指向数组中数据的首地址的指针

## NSMutableArray的扩容

数组在内存中的存储可以按照下图理解，首先会在内存中请求开辟一块堆空间用来存储数组的长度，容量以及数组元素首地址的指针等等，然后再开辟一块堆空间用来存放数据（线性表的顺序存储）。

当容量不够的时候，会重新开辟另外的空间，然后将数据复制到新的空间里，最后再将旧的空间释放掉。

## remove

删除的话，count也会变。

1. 逆序删除
2. 使用迭代器的remove
3. 使用filter过滤
