# 编程总结

简洁是一种艺术。
简洁易懂。
做之前先想好怎么做， 规划好。这时需要时间，可以慢一点。然后就是码代码，这时要提高速度！

#### 重复的代码不写两遍
代码不能都写一块儿，可以多分小方法，模块儿化。
例：
支付宝支付，微信支付，红包支付。
需要判断收货地址是否为空，发票信息是否合法，联系电话是否正确等判断可以放在一个方法里。  
发票信息和收货地址的信息可以放在一个方法里。使用属性赋值。


#### 将同一页的 不同功能样式的视图控制器，单独抽出来， 便于维护。
例：
课程列表上面的滑动广告， 数据、视图、点击跳转等，都可以独自控制管理。

#### 少用通知 
###### 能用block和代理的地方，就尽量不要使用通知。
1、前一个控制器push到后一个控制器，后一个控制器完成某个操作之后前一个控制器去做某个操作。
2、网络请求结果也可以用block去回调。

#### 多个地方使用同一个对象的同一个属性 

单独再定义一个局部变量

```
Class *b = a.b;//多个地方使用a的b属性。 
```

#### 关于条件判断

1. ifelse要写完全，把每种情况都写到if里面，else是备用的情况，这样不会遗漏任何一种情况比较严谨，方便以后维护。

2. 当有多个条件判断的时候

   ```
   if ((<#语句1#> && <#语句2#>) || (<#语句3#> && (<#语句4#>) && (<#语句5#>))) {
   <#statements#>
   }
   ```

   遇到这种比较复杂的，应该把每个语句都抽出来，定义一个bool变量。然后使用bool变量去判断。 这样更加清晰。

​		如果有多个地方 判断同一个条件时，写一个属性去记录。

#### 基类方法的封装
尽量不要涉及其他的逻辑，把功能单一化。
例如： 封装FMDB的增删改查方法。  只封装增删改查， 不涉及其他的。 其他的逻辑在另一个文件处理。

#### 方法的分类，分块儿
如果是同一类的数据处理， 按照增删改查的顺序去写方法。
不同类的去分开。

#### 把方法按照类型拆分   同一种类型的写一个方法  便于日后维护

#### MVC

- View

  V里面只有view视图，不要在view中写逻辑处理，以后不好维护。给view赋值，写在view里面。

- Controller

  所有的逻辑处理方法写在C中。

- Model

  数据处理写在Model中。例：后台返回的数据日期格式需要自己调整。根据返回的不同的状态数据，显示不同的内容。

#### 设置
使用宏或其他的变量
区分正式测试：
所有的接口。
存储数据库，偏好设置，缓存，等文件。

#### 模块化
尽量分模块  宏定义也不要写在一个文件里面  应该在模块里面定义一个文件写宏定义，便于以后迁移。

#### 关于属性的设置
1. 封装的功能类：写在.h文件中，使用属性。
  方便外部进行设置，不用在文件内部改。

2. 属性写在.m文件中 其他文件不使用的话 不要写在.h文件

   原因：

         1. 安全。
         2. 方便查看其他地方是否有引用。

3. 变量能用局部的就不要用全局的
#### 代码复用
可以使用一个父控制器添加子控制器的方法复用代码。
```
    [self.view addSubview:vc.view];
    [self addChildViewController:vc];
```
#### 功能模块可以写一个单独的文件来写公共的方法
多处调用一个接口请求，跳转页面，等有两个地方用到的时候就抽出来。
#### 宏定义 分类分模块 
颜色是一块儿，尺寸是一块儿，URL地址是一块儿，宏定义方法是一块儿。

### 多个方法嵌套
有时会有多个方法按顺序去执行，根据不同的结果去调用不同的下一步。
方法不可以嵌套在下一个方法，这样逻辑不清晰。
可以在一个单独方法里面调用，根据不同的返回结果去调用下一个方法。 所有的方法都是在这一个单独的函数中，逻辑清晰明了。

例：
根据方法1的结果选择执行方法2还是方法3：

- 可以在方法1设置一个block回调，根据block中的结果去选择方法2或方法3。
- 可以设置方法1的返回值，根据返回值去判断执行方法2，方法3或方法4。

### 设置BaseView
用户头像或者输入框等控件
可以给头像添加点击手势，头像加特殊标签等处理。
如果有多处使用，可以设置基础控件。

### 变量

不要定义过多的 含义一样的变量名，可以把它重新赋值。一个含义的变量只定义一个变量名。

### 多个按钮点击方法

给按钮设置不同的tag来标识，不同的tag使用枚举来定义。

创建多个按钮，在一个循环之中，每个按钮的文字和图片设置，使用一个数据源数组。

### 模块儿化开发

工具，头条等等，需要的图片，资源文件等等都要一个一个的独立。以后可以直接挪文件。不牵扯其他地方。

### UITableView

- 不要在cell的代理方法中赋值，如果是固定的内容，可以把indexPath传过去，在自定义cell中赋值。
- 使用model来保存tableView的cell 的值，不然cell在屏幕外面时，cell的值为空。

### 关于变量名

变量名不要用几个单词的首字母，时间长了容易遗忘当时是什么意思。