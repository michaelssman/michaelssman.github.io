# OpenSpec

即适合0-1的项目，又适合1-N的项目。它是一个专门用于解决AI编程中“幻觉”或需求偏移问题的规范驱动开发工具，核心是“先定规范，再写代码”。

## 流程

1. /opsx:propose：创建提案
2. /opsx:apply：让AI实现代码
3. /opsx:archive：归档
4. 完成部署spec更新。归档完成会更新spec说明。

下面的表格整理了它的核心信息和主要用途：

| 项目             | 说明                                                         |
| :--------------- | :----------------------------------------------------------- |
| **是什么**       | 一个用于AI智能体（如Claude Code、Cursor、GitHub Copilot等）的**开源、轻量级规范驱动开发框架和命令行工具**。 |
| **解决什么问题** | 解决“凭感觉聊天编程”带来的需求模糊、AI生成代码不可预测和频繁返工的问题，将自然语言提示转化为可审计的工程实践。 |
| **核心思想**     | **规范驱动开发**：在动手写代码之前，先与AI共同撰写并锁定一份机器可读的详细规范（Spec），作为开发的“唯一事实来源”。 |
| **主要用途**     | 1. **AI辅助开发项目管理**：为每个功能变更提供结构化的提案、审查、实施、归档流程。<br>2. **提升代码一致性**：确保AI生成的代码严格遵循既定规范，减少偏差。<br>3. **现有项目维护**：特别擅长在已有代码库中修改或增加功能（1→n开发）。 |

### 🛠️ 快速开始使用 OpenSpec
它的使用流程非常清晰，分为四个阶段：

1.  **安装与初始化**
    首先确保安装了 Node.js (版本 ≥ 20.19.0)，然后通过命令行安装并初始化 OpenSpec：
    
    ```bash
    # 使用 Homebrew 安装 Node.js，而 npm 会作为其中的一部分一并安装好 。
    brew install node
    # 验证安装：
    node -v
    npm -v
    
    # 1. 全局安装CLI工具
    npm install -g @fission-ai/openspec@latest
    # 2. 进入你的项目目录
    cd your-project
    # 3. 初始化，它会创建 openspec/ 目录并配置AI助手
    openspec init
    ```
    
2.  **起草变更提案**
    在你的AI编程助手（如Cursor的聊天框）中，使用命令或自然语言描述你想要的功能。例如：“`/openspec:proposal 添加用户登录功能`”。AI会根据你的描述，在 `openspec/changes/` 目录下生成一个包含 `proposal.md` (提案)、`tasks.md` (任务清单) 和 `spec.md` (规范详情) 的结构化文件夹。

3.  **审查与对齐**
    仔细检查AI生成的规范文件，与你的AI助手讨论并进行修改，直到所有人对“要构建什么”达成一致。你可以使用 `openspec show <变更名>` 来查看详情。

4.  **实施与归档**
    
    - **实施**：使用命令如 `“/openspec:apply <变更名>”`，AI会严格依据锁定好的 `tasks.md` 和 `spec.md` 来编写代码，极大减少偏离。
    - **归档**：代码完成并验证后，使用 `“/openspec:archive <变更名>”` 命令。该操作会将本次变更中批准的规范内容，合并更新到总的“事实来源”目录 `openspec/specs/` 中，标志着本次变更闭环。

### 📊 主要优点与适用场景总结

| 优点/特点            | 说明                                                         |
| :------------------- | :----------------------------------------------------------- |
| **结构化与可审计**   | 所有需求、决策和任务都以文件形式记录，变更历史清晰可查。     |
| **提升AI输出确定性** | 用明确的规范约束AI的“创意”，让生成结果更符合预期。           |
| **棕地优先**         | 设计上优先考虑对现有复杂项目的修改和维护，而非仅适用于从零开始的新项目。 |
| **工具无关**         | 支持主流的AI编程助手，不锁定特定工具。                       |
| **适用场景**         | 适合团队使用AI进行中大型项目开发、需要高可预测性和代码质量的场景，尤其适合迭代和维护现有代码库。 |
